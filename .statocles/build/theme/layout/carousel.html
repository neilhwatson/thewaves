<%
my @images = (
    {
      src     => "/images/house/house-front1.jpg",
      caption => "Welcome to The Waves",
    },
    {
      src     => "/images/house/house-back1.jpg",
      caption => "Large windows face south to the lake",
    },
    {
      src     => "/images/house/out-back1.jpg",
      caption => "Your back porch",
    },
    {
      src     => "/images/house/deck-view1.jpg",
      caption => "The view",
    },
    {
      src     => "/images/house/beach-west1.jpg",
      caption => "Sunsets from your beach",
    },
    {
      src     => "/images/house/livingroom1.jpg",
      caption => "Enjoy a lake view from 6 rooms",
    },
);

%>

<div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
<!-- Indicators -->

   <ol class="carousel-indicators">

%   my $img = 0;
%   for my $next_img ( @images ){

%      if ( $img == 0 ){
          <li data-target="#carousel-example-generic" data-slide-to="<%= $img %>" class="active"></li>
%      }
%      else {
          <li data-target="#carousel-example-generic" data-slide-to="<%= $img %>"></li>
%      }
%     $img ++;
%   }

   </ol>

<!-- slides -->
   <div class="carousel-inner">


%   $img = 0;
%   for my $next_img ( @images ){

%      if ( $img == 0 ){
          <div class="item active">
%      }
%      else {
          <div class="item">
%      }
             <img src="<%= $next_img->{src} %>" alt="<%= $next_img->{caption} %>">
             <div class="carousel-caption">
                <p><%= $next_img->{caption} %></p>
             </div> <!-- caption -->
          </div> <!-- item -->

%     $img++;
%   }

   </div> <!-- carousel-inner -->

<!-- Controls -->
   <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
      <span class="glyphicon glyphicon-chevron-left"></span>
   </a>
   <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
      <span class="glyphicon glyphicon-chevron-right"></span>
   </a>
</div>
